// json datas
const headerJSONData = {
  placeholderText: "Search for anything",
  loginText: "Sign in",
  headerSVG: [
    {
      name: "etsylogo",
      source: "images/estylogo.svg",
      link: "https://www.etsy.com/in-en/?ref=lgo",
    },
    {
      name: "heart",
      source: "images/heart.svg",
      link: "https://www.etsy.com/in-en/guest/favorites?ref=hdr-fav",
    },
    {
      name: "basket",
      source: "images/basket.svg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "nav-bar",
      source: "images/navbtn.svg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "search",
      source: "images/search.svg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
  ],
};

const discoverJSONData = {
  hdr: "Discover one-of-a-kind item from independent creators",
  discoverEl: [
    {
      name: "Diwali",
      source:
        "https://i.etsystatic.com/16676438/c/1954/1954/0/0/il/2054a3/1825350041/il_300x300.1825350041_rvfe.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "Home & Living ",
      source:
        "https://i.etsystatic.com/24440180/r/il/cc8bc7/3094624694/il_300x300.3094624694_64up.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "Clothing",
      source:
        "https://i.etsystatic.com/25473399/r/il/6cfb1f/4088005474/il_300x300.4088005474_foea.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "Jewellery",
      source:
        "https://i.etsystatic.com/18077312/r/il/b10e09/2350226444/il_300x300.2350226444_odar.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "Wall Art",
      source:
        "https://i.etsystatic.com/30213933/c/1510/1510/342/…/ea97e0/3755997843/il_300x300.3755997843_9z68.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "On Sale",
      source:
        "https://i.etsystatic.com/27502657/r/il/34ea55/2915113681/il_300x300.2915113681_jqpd.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "Home & Living",
      source:
        "https://i.etsystatic.com/24440180/r/il/cc8bc7/3094624694/il_300x300.3094624694_64up.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
    {
      name: "On Sale",
      source:
        "https://i.etsystatic.com/27502657/r/il/34ea55/2915113681/il_300x300.2915113681_jqpd.jpg",
      link: "https://www.etsy.com/in-en/search?q=diwali&mosv=sese&moci=1054306299872&mosi=1082643189240&ref=hp_bubbles_in_bau_2022&anchor_listing_id=682567193&locationQuery=1269750&is_merch_library=true",
    },
  ],
};

const yourHomeJSONData = {
  subHead: "Editors' Picks",
  mainHead: "For your home",
  seemore: "See more",

  endText:
    "Add to Favourites Exceptional pieces by Indian creators that can help express your style in any space",
  arrow: "images/arrow.svg",
  yourHomeElements: [
    {
      name: "el-1",
      source:
        "https://v-cg.etsystatic.com/video/upload/ac_none,du_15,q_auto:good/final_61961a2c1fab160101ccaf7d_471683_b5oji1.mp4",
      link: "https://www.etsy.com/in-en/listing/1146166643/abstract-set-print-set-of-2-instant?click_key=176df5b6944731567781b0d183ca8f9fae936241%3A1146166643&click_sum=41f8cb59&ref=hp_editors_picks_primary-2&sts=1",
      type: "video",
      price: "6473",
      discountPrice: "5825",
    },
    {
      name: "el-2",
      source:
        "https://v-cg.etsystatic.com/video/upload/ac_none,du_15,q_auto:good/Promotionals_-_DIY_Wall_Trophy_zmxtoc.mp4",
      link: "https://www.etsy.com/in-en/listing/1146111201/assorted-hand-painted-dessert-appetiser?click_key=9290c5a2dd2d3f175972da7ab3db8a7e00549b0d%3A1146111201&click_sum=b138fb24&ref=hp_editors_picks_primary-6",
      type: "video",
      price: "7545",
      discountPrice: "0",
    },
    {
      name: "el-3",
      source:
        "https://i.etsystatic.com/33029693/c/563/447/0/38/il/812218/3617933329/il_680x540.3617933329_agsq.jpg",
      link: "https://www.etsy.com/in-en/listing/712689568/baby-girl-quilt-baby-nursery-quilt-dusty?click_key=5a5c5d45cd9920ee0c302d279bd082a742b9c337%3A712689568&click_sum=db585a96&ref=hp_editors_picks_primary-4",
      type: "image",
      price: "5685",
      discountPrice: "5825",
    },
    {
      name: "el-4",
      source:
        "	https://i.etsystatic.com/21689103/r/il/00433b/3127057561/il_680x540.3127057561_3l4r.jpg",
      link: "https://www.etsy.com/in-en/listing/593288500/brownfolds-diy-paper-wall-trophy-origami?click_key=3dd86906d2cc017faef6b1d2b1ef538a3a77830e%3A593288500&click_sum=5238512a&ref=hp_editors_picks_primary-1&sts=1",
      type: "image",
      price: "4575",
      discountPrice: "3737",
    },
    {
      name: "el-5",
      source:
        "https://v-cg.etsystatic.com/video/upload/ac_none,du_15,q_auto:good/IMG_8207_mnzhgs.mp4",
      link: "https://www.etsy.com/in-en/listing/1146166643/abstract-set-print-set-of-2-instant?click_key=176df5b6944731567781b0d183ca8f9fae936241%3A1146166643&click_sum=41f8cb59&ref=hp_editors_picks_primary-2&sts=1",
      type: "video",
      price: "6578",
      discountPrice: "5825",
    },
    {
      name: "el-6",
      source:
        "https://i.etsystatic.com/21689103/c/1896/1507/664/…/4aad15/3549482360/il_680x540.3549482360_62rn.jpg",
      link: "https://www.etsy.com/in-en/listing/889291711/leaf-snack-plate-banyan-leaf-plate-leaf?click_key=2cfb1f9766a62825af938817bb5b0fc8910470bc%3A889291711&click_sum=c7e0a4dd&ref=hp_editors_picks_primary-3",
      type: "image",
      price: "4548",
      discountPrice: "0",
    },
  ],
};

const etsyLogoSVG = headerJSONData.headerSVG[0].source;
const loginData = headerJSONData.loginText;
const heartSVG = headerJSONData.headerSVG[1].source;
const basketSVG = headerJSONData.headerSVG[2].source;
const navBtnSVG = headerJSONData.headerSVG[3].source;
const searchIconSVG = headerJSONData.headerSVG[4].source;
const placeholderText = headerJSONData.placeholderText;
const testImageLink = "images/thumb-2.jpg";

// HEADER SECTION

const headerSection = document.querySelector("header");

const headerTop = document.createElement("div");
headerTop.classList.add("headertop");

const headerBottom = document.createElement("div");

let etsyLogo = document.createElement("div");
etsyLogo.classList.add("etsylogo");
etsyLogo.innerHTML = `
    <img src="${etsyLogoSVG}" alt='image'>
`;

const rightSideLogo = document.createElement("div");
rightSideLogo.classList.add("rightsidelogo");

const signIn = document.createElement("a");
signIn.href = "https://www.etsy.com/in-en/about?ref=ftr";

const textLink = document.createElement("span");
textLink.innerHTML = `${loginData}`;

const headerHeart = document.createElement("a");
headerHeart.innerHTML = `<img src="${heartSVG}" alt="heart">`;
headerHeart.href = headerJSONData.headerSVG[1].link;

const basket = document.createElement("a");
basket.innerHTML = `<img src="${basketSVG}" alt="heart">`;
basket.href = headerJSONData.headerSVG[2].link;

const navBtn = document.createElement("a");
navBtn.innerHTML = `
    <img src="${navBtnSVG}" alt="img">
`;

const searchBarDiv = document.createElement("div");

const searchBar = document.createElement("input");
searchBar.setAttribute("type", "text");
searchBar.setAttribute("placeholder", placeholderText);

const searchIcon = document.createElement("div");
searchIcon.innerHTML = `
    <img src="${searchIconSVG}" alt="search">
`;

addElement(headerSection, headerTop);
addElement(headerTop, etsyLogo);
addElement(headerTop, rightSideLogo);
addElement(rightSideLogo, signIn);
addElement(signIn, textLink);
addElement(rightSideLogo, headerHeart);
addElement(rightSideLogo, basket);
addElement(headerSection, headerBottom);
addElement(headerBottom, navBtn);
addElement(headerBottom, searchBarDiv);
addElement(searchBarDiv, searchBar);
addElement(searchBarDiv, searchIcon);

signIn.addEventListener("mouseover", showBtnStyle);
signIn.addEventListener("mouseout", removeBtnStyle);
headerHeart.addEventListener("mouseover", showBtnStyle);
headerHeart.addEventListener("mouseout", removeBtnStyle);
basket.addEventListener("mouseover", showBtnStyle);
basket.addEventListener("mouseout", removeBtnStyle);
navBtn.addEventListener("mouseover", showBtnStyle);
navBtn.addEventListener("mouseout", removeBtnStyle);
searchIcon.addEventListener("mouseover", () => {
  searchIcon.style.backgroundColor = "#ddd";
});
searchIcon.addEventListener("mouseout", removeBtnStyle);

searchBarDiv.addEventListener("focusin", () => {
  searchBarDiv.style.backgroundColor = "white";
  searchBar.style.backgroundColor = "white";
});

searchBarDiv.addEventListener("focusout", () => {
  searchBarDiv.style.backgroundColor = "#f4f4f4";
  searchBar.style.backgroundColor = "#f4f4f4";
});

//Stylings

headerSection.style.display = "block";
headerSection.style.padding = "1px 12px 4px 7px";

headerTop.style.display = "flex";
headerTop.style.justifyContent = "space-between";
headerTop.style.padding = "5px 0 0 2px";

headerBottom.style.display = "flex";
headerBottom.style.alignItems = "center";
headerBottom.style.padding = "3px 0 3px 0";

etsyLogo.style.width = "60px";
etsyLogo.style.cursor = "pointer";
etsyLogo.style.marginTop = "1px";

rightSideLogo.style.display = "flex";
rightSideLogo.style.alignItems = "center";

textLink.style.fontSize = "13px";

signIn.style.marginRight = "6px";

signIn.style.marginBottom = "4px";
signIn.style.color = "#000";
signIn.style.fontWeight = "bold";

headerHeart.style.marginRight = "2px";

basket.style.marginRight = "2px";

signIn.style.padding = "8px 15px";
headerHeart.style.padding = "5px 10px";
basket.style.padding = "5px 10px";

signIn.style.borderRadius = "50px";
headerHeart.style.borderRadius = "50px";
basket.style.borderRadius = "50px";

navBtn.style.marginTop = "2px";
navBtn.style.padding = "5px";
navBtn.style.borderRadius = "50px";

searchBarDiv.style.display = "flex";
searchBarDiv.style.alignItems = "center";
searchBarDiv.style.justifyContent = "space-between";
searchBarDiv.style.width = "100%";
searchBarDiv.style.backgroundColor = "#f4f4f4";
searchBarDiv.style.border = "2px solid black";
searchBarDiv.style.borderRadius = "50px";
searchBarDiv.style.marginLeft = "7px";

searchBar.style.border = "none";
searchBar.style.width = "100%";
searchBar.style.margin = "0 0 0 19px";
searchBar.style.fontSize = "16px";
searchBar.style.backgroundColor = "#F4F4F4";

searchIcon.style.overflow = "hidden";
searchIcon.style.padding = "10px 22px 5px 10px";
searchIcon.style.borderTopRightRadius = "20px";
searchIcon.style.borderBottomRightRadius = "20px";
searchIcon.style.cursor = "pointer";

function showBtnStyle(color) {
  this.style.backgroundColor = "#eee";
}

function removeBtnStyle() {
  this.style.backgroundColor = "transparent";
}

//MAIN SECTION

//MAIN SECTION : Discover

const discoverContainer = document.getElementById("discover");

const discoverHeading = document.createElement("p");
discoverHeading.classList.add("heading");
discoverHeading.innerText = discoverJSONData.hdr;

const discoverBackground = document.createElement("div");
discoverBackground.classList.add("discover-background");

const discoverElementContainer = document.createElement("div");
discoverElementContainer.classList.add("elements");

const element = document.createElement("div");
element.classList.add("element");

let discoverElementCounter = 0;

const elementToWrite = discoverJSONData.discoverEl
  .map(discoverElements)
  .join("");

element.innerHTML = elementToWrite;

addElement(discoverContainer, discoverHeading);
addElement(discoverContainer, discoverBackground);
addElement(discoverContainer, discoverElementContainer);
addElement(discoverElementContainer, element);

function discoverElements(elementDetails) {
  if (discoverElementCounter < 6) {
    discoverElementCounter++;
    return `
        <a href="${elementDetails.link}">
        <img src="${elementDetails.source}" alt="">
        <h4 class="img-title"> ${elementDetails.name}</h4></a>
    `;
  }
}

//MAIN SECTION : For your home

const yourHome = document.getElementById("yourhome");

const editorsPick = document.createElement("p");
editorsPick.innerText = yourHomeJSONData.subHead;
editorsPick.classList.add("sub-heading");

const yourHomeHeading = document.createElement("h4");
yourHomeHeading.innerText = yourHomeJSONData.mainHead;

const yourHomeEls = document.createElement("div");
yourHomeEls.classList.add("your-home-container");

const seeMore = document.createElement("div");
seeMore.classList.add("seemore");
seeMore.innerHTML = `
  <span> ${yourHomeJSONData.seemore}</span>
  <span class="arrow">
    <img src="${yourHomeJSONData.arrow}">
  </span> 
  `;
const spanText = document.createElement("div");
spanText.classList.add("last-text");
spanText.innerHTML = `
  <p>${yourHomeJSONData.endText}</p>
  `;

function yourHomeElementCheck(card) {
  priceAndDiscountStr = "";
  console.log(card);
  if (card.discountPrice == 0 && card.price == 0) {
    priceAndDiscountStr = "";
  } else if (card.discountPrice == 0) {
    priceAndDiscountStr = `
      <div class="price-discount-container">
        <span class="discount">&#8377; ${card.price}</span>
      </div>
    `;
  } else {
    priceAndDiscountStr = `
      <div class="price-discount-container">
        <span class="discount">&#8377; ${card.discountPrice}</span>
        <span class="price">	&#8377; ${card.price}</span>
      </div>
    `;
  }

  if (card.type === "video") {
    const maincard = document.createElement("div");
    maincard.classList.add("card");
    maincard.innerHTML = `
      <a href="${card.link}">
        <video src="${card.source}" alt="" class="video-img"></video>
      </a>
      <div class="playbtn">
        <div class="triangle">
        </div>
      </div>
      ${priceAndDiscountStr}
    `;
    return maincard;
  } else if (card.type === "image") {
    const maincard = document.createElement("div");
    maincard.classList.add("card");
    maincard.innerHTML = `
      <a href="${card.link}">
        <img src="${card.source}" alt="" class="video-img">
      </a>
      ${priceAndDiscountStr}
    `;
    return maincard;
  }
}

addElement(yourHome, editorsPick);
addElement(yourHome, yourHomeHeading);
addElement(yourHome, yourHomeEls);

const elementToWriteHome =
  yourHomeJSONData.yourHomeElements.map(yourHomeElementCheck);

console.log(elementToWriteHome);
elementToWriteHome.forEach((el) => yourHomeEls.appendChild(el));
addElement(yourHomeEls, spanText);

addElement(yourHome, seeMore);

function resizeListener() {
  if (window.innerWidth < 480) {
    addElement(yourHomeEls, spanText);
    addElement(yourHomeEls, spanText);
    etsyLogo.style.width = "60px";
    // console.log("matches");
  } else if (window.innerWidth > 480) {
    etsyLogo.style.width = "80px";
  }
}

window.addEventListener("resize", resizeListener);

function addElement(section, element) {
  section.append(element);
}
